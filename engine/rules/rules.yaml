rules:
  - when:
      source: "hue"
      type: "light"
      entity: "flower_pot"
      state_change: "brightness"
    then:
      - action: "update_button_value"
        target:
          type: "halo.button"
          id: "Flower pot"
        params:
          value: "${payload.brightness}"

  - when:
      source: "halo"
      type: "wheel"
      entity: "flower_pot"
      state_change: "clockwise"
    then:
      - action: "step_brightness"
        target:
          type: "hue.light"
          id: "Flower Pot"
        params:
          direction: "up"
          step: "${payload.step}"

  - when:
      source: "halo"
      type: "wheel"
      entity: "flower_pot"
      state_change: "counter_clockwise"
    then:
      - action: "step_brightness"
        target:
          type: "hue.light"
          id: "Flower Pot"
        params:
          direction: "down"
          step: "${payload.step}"

  - when:
      source: "halo"
      type: "button"
      entity: "movie"
      state_change: "pressed"
    then:
      - action: "set_scene"
        target:
          type: "hue.room"
          id: "stue"
        params:
          scene: "movie"
